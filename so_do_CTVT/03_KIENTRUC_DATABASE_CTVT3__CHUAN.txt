SÆ  Äá»’ (3): KIáº¾N TRÃšC DATABASE Há»† THá»NG CTVT3
(Dá»±a trÃªn SÆ¡ Ä‘á»“ 1 + SÆ¡ Ä‘á»“ 2 â€“ Báº£n chuáº©n triá»ƒn khai)
________________________________________
I. Má»¤C ÄÃCH SÆ  Äá»’ (3)
SÆ¡ Ä‘á»“ (3) tráº£ lá»i 4 cÃ¢u há»i ká»¹ thuáº­t cá»‘t lÃµi:
1. Há»‡ thá»‘ng cáº§n nhá»¯ng báº£ng nÃ o (CUá»I CÃ™NG)
2. Báº£ng nÃ o lÃ  Gá»C â€“ báº£ng nÃ o lÃ  PHá»¤
3. Báº£ng nÃ o Ä‘Æ°á»£c INSERT / UPDATE / KHÃ“A
4. API Ä‘Æ°á»£c phÃ©p tÃ¡c Ä‘á»™ng Ä‘áº¿n báº£ng nÃ o
â— Tá»« sÆ¡ Ä‘á»“ nÃ y trá»Ÿ Ä‘i:
â€¢	KhÃ´ng thÃªm báº£ng tÃ¹y há»©ng
â€¢	KhÃ´ng viáº¿t API â€œcho tiá»‡nâ€
________________________________________
II. PHÃ‚N Táº¦NG DATABASE (THEO SÆ  Äá»’ 2)
CTVT3 DB chia thÃ nh 5 nhÃ³m báº£ng rÃµ rÃ ng:
A. CORE_GIAO_DICH
B. NHAT_KY_HE_QUA
C. CHOT_BAO_CAO
D. DANH_MUC
H. HE_THONG
________________________________________
III. DANH SÃCH Báº¢NG CHUáº¨N THEO Tá»ªNG NHÃ“M
________________________________________
A. CORE_GIAO_DICH (Báº¢NG Gá»C â€“ NGUá»’N Sá»° THáº¬T)
ğŸ”’ NguyÃªn táº¯c: thiáº¿u 1 báº£ng lÃ  sai nghiá»‡p vá»¥
hoa_don_ban
hoa_don_ban_chi_tiet

hoa_don_nhap
hoa_don_nhap_chi_tiet

thu_chi
thu_ngan

hoa_don_vat
gas_du
Quy táº¯c
- INSERT lÃ  chÃ­nh
- UPDATE chá»‰ cho:
  + tráº¡ng thÃ¡i
  + ghi chÃº
- KhÃ´ng xÃ³a cá»©ng (chá»‰ há»§y tráº¡ng thÃ¡i)
________________________________________
B. NHAT_KY_HE_QUA (KHÃ”NG NHáº¬P TAY)
nhat_ky_kho
nhat_ky_vo
ğŸ‘‰ TÆ°Æ¡ng lai CTVT3:
log_chung_tu (Ä‘á» xuáº¥t má»›i)
Quy táº¯c
- Chá»‰ sinh tá»« CORE_GIAO_DICH
- KhÃ´ng API CRUD trá»±c tiáº¿p
________________________________________
C. CHOT_BAO_CAO (SNAPSHOT â€“ ÄÆ¯á»¢C XÃ“A)
ton_kho_chot
ton_kho_chot_ngay

gas_du_chot
gas_du_chot_ngay
Quy táº¯c
- KhÃ´ng INSERT tay
- KhÃ´ng UPDATE
- CÃ³ thá»ƒ truncate vÃ  rebuild
________________________________________
D. DANH_MUC (MASTER DATA)
khach_hang
nha_cung_cap
nhan_vien
kho_hang
san_pham
nhan_vien_kho
Quy táº¯c
- CRUD cÃ³ kiá»ƒm soÃ¡t
- KhÃ´ng chá»©a sá»‘ dÆ°
________________________________________
H. HE_THONG (KHÃ”NG LIÃŠN QUAN NGHIá»†P Vá»¤)
user
user_role
user_permission
user_session

phong_chat
phong_chat_thanh_vien
tin_nhan

audit_log
Quy táº¯c
- KhÃ´ng JOIN vá»›i báº£ng CORE khi tÃ­nh sá»‘
- Chá»‰ kiá»ƒm soÃ¡t truy cáº­p
________________________________________
IV. NHá»®NG Báº¢NG Cáº¦N ÄIá»€U CHá»ˆNH Tá»ª CTVT2 â†’ CTVT3
1. Gá»˜P / CHUáº¨N HÃ“A
â€¢	hoa_don_ban
âœ thÃªm cá»™t:
â€¢	trang_thai
â€¢	loai_hoa_don (ban_thuong / ban_kg / can_thue)
â€¢	hoa_don_vat
âœ thÃªm:
â€¢	loai_phat_sinh (ban_hang / nhap_hang / can_thue)
________________________________________
2. TÃCH LOGIC RA KHá»I Báº¢NG
âŒ KhÃ´ng lÃ m:
cap_nhat_truc_tiep ton kho
cap_nhat cong_no trong khach_hang
âœ” Thay báº±ng:
- tÃ­nh tá»« giao dá»‹ch
- Ä‘á»‘i soÃ¡t báº±ng nháº­t kÃ½
________________________________________
3. Báº¢NG KHÃ”NG ÄÆ¯á»¢C PHÃ‰P UPDATE Sá»
nhat_ky_kho
nhat_ky_vo
ton_kho_chot*
gas_du_chot*
________________________________________
V. QUAN Há»† CHUáº¨N (Dáº NG CHá»® â€“ Äá»‚ Sáº¾P Váº¼ INKSCAPE)
[DANH_MUC]
   â†“
[CORE_GIAO_DICH]
   â†“
[NHAT_KY_HE_QUA]
   â†“
[CHOT_BAO_CAO]

[HE_THONG] bao ngoÃ i â€“ khÃ´ng cháº¡m sá»‘
________________________________________
VI. NGUYÃŠN Táº®C Báº¤T DI Báº¤T Dá»ŠCH Cá»¦A SÆ  Äá»’ (3)
1. Má»i con sá»‘ Ä‘á»u xuáº¥t phÃ¡t tá»« CORE
2. KhÃ´ng báº£ng nÃ o vá»«a lÃ  gá»‘c vá»«a lÃ  bÃ¡o cÃ¡o
3. Nháº­t kÃ½ chá»‰ ghi â€“ khÃ´ng tÃ­nh
4. Chá»‘t chá»‰ Ä‘á»c â€“ khÃ´ng sá»­a
5. User / chat khÃ´ng liÃªn quan káº¿ toÃ¡n
________________________________________
VII. TÃŠN FILE CHUáº¨N Äá»‚ LÆ¯U
03_KIENTRUC_DATABASE_CTVT3__CHUAN.txt
________________________________________

