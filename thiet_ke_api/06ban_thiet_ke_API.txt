BÆ¯á»šC 6 â€“ THIáº¾T Káº¾ Há»¢P Äá»’NG API

(API CONTRACT â€“ KHÃ“A NGÆ¯á»œI Gá»ŒI, KHÃ”NG KHÃ“A DEV)

Má»¥c tiÃªu cá»§a BÆ°á»›c 6:
Quy Ä‘á»‹nh rÃµ API nháº­n cÃ¡i gÃ¬ â€“ tráº£ cÃ¡i gÃ¬ â€“ trong Ä‘iá»u kiá»‡n nÃ o â€“ vÃ  tá»« chá»‘i khi nÃ o
â†’ Ä‘á»ƒ frontend, mobile, dev khÃ¡c khÃ´ng thá»ƒ gá»i bá»«a.

1. Báº¢N CHáº¤T Cá»¦A Há»¢P Äá»’NG API

API Contract khÃ´ng pháº£i code, mÃ  lÃ :

Cam káº¿t giá»¯a:

há»‡ thá»‘ng â†” ngÆ°á»i gá»i

Ranh giá»›i:

cÃ¡i Ä‘Æ°á»£c phÃ©p

cÃ¡i bá»‹ cáº¥m

ğŸ‘‰ KhÃ´ng cÃ³ há»£p Ä‘á»“ng â†’ API sáº½ bá»‹ láº¡m dá»¥ng.

2. NGUYÃŠN Táº®C Tá»”NG QUÃT Cá»¦A API CONTRACT

Ãp dá»¥ng cho má»i API trong há»‡ thá»‘ng:

Má»—i API Ä‘áº¡i diá»‡n 1 sá»± kiá»‡n

KhÃ´ng API nÃ o nháº­n â€œdata cho tiá»‡nâ€

KhÃ´ng API nÃ o tá»± suy Ä‘oÃ¡n dá»¯ liá»‡u thiáº¿u

KhÃ´ng API nÃ o tráº£ sá»‘ liá»‡u tá»•ng há»£p Ä‘á»ƒ lÃ m nguá»“n tÃ­nh

Lá»—i nghiá»‡p vá»¥ pháº£i nÃ³i rÃµ lÃ½ do, khÃ´ng tráº£ lá»—i mÆ¡ há»“

3. Cáº¤U TRÃšC CHUáº¨N Cá»¦A 1 API CONTRACT

Má»—i API báº¯t buá»™c pháº£i Ä‘Æ°á»£c mÃ´ táº£ Ä‘á»§ 9 má»¥c sau:

(1) TÃŠN API

Ngáº¯n

Gáº¯n vá»›i sá»± kiá»‡n

KhÃ´ng gáº¯n vá»›i báº£ng

(2) Má»¤C ÄÃCH NGHIá»†P Vá»¤

API nÃ y Ä‘áº¡i diá»‡n cho sá»± kiá»‡n gÃ¬

Xáº£y ra trong Ä‘á»i tháº­t lÃºc nÃ o

âŒ KhÃ´ng viáº¿t â€œtáº¡o / sá»­a / xÃ³a recordâ€

(3) Äá»I TÆ¯á»¢NG TÃC Äá»˜NG

Chá»©ng tá»« nÃ o

Thá»±c thá»ƒ nÃ o

ğŸ‘‰ GiÃºp ngÆ°á»i gá»i khÃ´ng dÃ¹ng nháº§m API.

(4) INPUT ÄÆ¯á»¢C PHÃ‰P

Danh sÃ¡ch field báº¯t buá»™c

Danh sÃ¡ch field tÃ¹y chá»n

ğŸ‘‰ Input thá»«a â†’ tá»« chá»‘i, khÃ´ng ignore.

(5) INPUT Bá»Š Cáº¤M

Nhá»¯ng field:

há»‡ thá»‘ng tá»± sinh

khÃ´ng thuá»™c sá»± kiá»‡n

ğŸ‘‰ ÄÃ¢y lÃ  hÃ ng rÃ o sá»‘ 1 chá»‘ng phÃ¡ sá»‘.

(6) ÄIá»€U KIá»†N Há»¢P Lá»†

API chá»‰ Ä‘Æ°á»£c thá»±c thi khi:

ÄÃºng vai trÃ²

ÄÃºng tráº¡ng thÃ¡i

KhÃ´ng vi pháº¡m luáº­t báº¥t biáº¿n (BÆ°á»›c 4)

ğŸ‘‰ Sai 1 Ä‘iá»u â†’ reject ngay.

(7) Há»† QUáº¢ SINH RA (SIDE EFFECT)

Báº£ng CORE nÃ o Ä‘Æ°á»£c ghi

Nhá»¯ng há»‡ quáº£ tá»± Ä‘á»™ng nÃ o Ä‘Æ°á»£c sinh

ğŸ‘‰ NgÆ°á»i gá»i pháº£i biáº¿t trÆ°á»›c háº­u quáº£, khÃ´ng â€œgá»i thá»­â€.

(8) Káº¾T QUáº¢ TRáº¢ Vá»€

Chá»‰ tráº£:

mÃ£ chá»©ng tá»«

tráº¡ng thÃ¡i má»›i

KhÃ´ng tráº£:

sá»‘ dÆ°

sá»‘ tá»•ng há»£p

ğŸ‘‰ TrÃ¡nh frontend dÃ¹ng API nhÆ° nguá»“n tÃ­nh.

(9) CÃC Lá»–I NGHIá»†P Vá»¤ CÃ“ THá»‚ Xáº¢Y RA

Sai quyá»n

Sai tráº¡ng thÃ¡i

Thiáº¿u dá»¯ liá»‡u báº¯t buá»™c

Vi pháº¡m luáº­t káº¿ toÃ¡n

ğŸ‘‰ Lá»—i pháº£i Ä‘á»‹nh danh Ä‘Æ°á»£c, khÃ´ng máº­p má».

4. NHÃ“M Há»¢P Äá»’NG THEO LOáº I API
A. API GHI NHáº¬N Sá»° KIá»†N

Báº¯t buá»™c Ä‘á»§ 9 má»¥c

KhÃ´ng cho batch

KhÃ´ng cho â€œsave allâ€

B. API THAY Äá»”I TRáº NG THÃI

Kiá»ƒm soÃ¡t cháº·t:

tráº¡ng thÃ¡i trÆ°á»›c

tráº¡ng thÃ¡i sau

KhÃ´ng cho nháº£y cÃ³c

C. API Äá»ŒC / BÃO CÃO

KhÃ´ng cÃ³ side effect

KhÃ´ng Ä‘Æ°á»£c nháº­n filter â€œnguy hiá»ƒmâ€

KhÃ´ng tráº£ dá»¯ liá»‡u gá»‘c Ä‘á»ƒ chá»‰nh

5. NGUYÃŠN Táº®C VIáº¾T CONTRACT (Äá»‚ SAU NÃ€Y KHÃ”NG CÃƒI)

Viáº¿t báº±ng ngÃ´n ngá»¯ nghiá»‡p vá»¥

KhÃ´ng dÃ¹ng thuáº­t ngá»¯ ká»¹ thuáº­t mÆ¡ há»“

NgÆ°á»i khÃ´ng code váº«n Ä‘á»c hiá»ƒu

CÃ³ thá»ƒ dÃ¹ng lÃ m tÃ i liá»‡u kiá»ƒm toÃ¡n

ğŸ‘‰ Contract lÃ  tÃ i sáº£n cá»§a cÃ´ng ty, khÃ´ng pháº£i cá»§a dev.

6. Káº¾T QUáº¢ PHáº¢I Äáº T SAU BÆ¯á»šC 6

Sau bÆ°á»›c nÃ y:

Frontend biáº¿t Ä‘Æ°á»£c gá»i gÃ¬ â€“ khÃ´ng Ä‘Æ°á»£c gá»i gÃ¬

Dev backend khÃ´ng tá»± Ã½ thÃªm field

Sáº¿p nhÃ¬n contract lÃ  biáº¿t API Ä‘Ãºng hay sai

ğŸ‘‰ API khÃ´ng cÃ²n lÃ  â€œhá»™p Ä‘enâ€.

7. TUYÃŠN Bá» KHÃ“A BÆ¯á»šC 6

Tá»« sau BÆ°á»›c 6:

âŒ KhÃ´ng API nÃ o Ä‘Æ°á»£c code náº¿u chÆ°a cÃ³ contract

âŒ KhÃ´ng sá»­a API mÃ  khÃ´ng sá»­a contract

âŒ Contract lÃ  nguá»“n tham chiáº¿u duy nháº¥t khi tranh cÃ£i

ğŸ‘‰ Contract Ä‘Ãºng = há»‡ thá»‘ng khÃ´ng lá»‡ch.

Chá»‘t tiáº¿n Ä‘á»™:

BÆ°á»›c 6 Ä‘Ã£ khÃ³a ngÆ°á»i gá»i API

CÃ²n láº¡i:

BÆ°á»›c 7: Tá»• chá»©c kiáº¿n trÃºc code

BÆ°á»›c 8: Viáº¿t code & test